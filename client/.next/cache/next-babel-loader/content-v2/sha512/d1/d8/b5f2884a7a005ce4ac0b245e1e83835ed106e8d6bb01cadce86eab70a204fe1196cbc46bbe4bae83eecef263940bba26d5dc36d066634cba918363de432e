{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/user/Desktop/dtmFinal/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/user/Desktop/dtmFinal/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\dtmFinal\\\\client\\\\components\\\\drivers\\\\section-2.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useCallback, useEffect, useState } from 'react';\nimport ProgressBar from \"./progress\";\nimport axios from 'axios';\nimport styles from \"../../styles/drivers/section2.module.scss\";\nimport validator from \"validator\";\nimport NumberFormat from \"react-number-format\";\n\nvar Section2 = function Section2() {\n  _s();\n\n  var _useState = useState(''),\n      file = _useState[0],\n      setFile = _useState[1];\n\n  var _useState2 = useState(''),\n      filename = _useState2[0],\n      setFilename = _useState2[1];\n\n  var _useState3 = useState(''),\n      filename1 = _useState3[0],\n      setFilename1 = _useState3[1];\n\n  var _useState4 = useState(''),\n      file1 = _useState4[0],\n      setFile1 = _useState4[1];\n\n  var _useState5 = useState({}),\n      uploadedFile = _useState5[0],\n      setUploadedFile = _useState5[1];\n\n  var _useState6 = useState(''),\n      message = _useState6[0],\n      setMessage = _useState6[1];\n\n  var _useState7 = useState(0),\n      uploadPercentage = _useState7[0],\n      setUploadPercentage = _useState7[1];\n\n  var _useState8 = useState(''),\n      emailError = _useState8[0],\n      setEmailError = _useState8[1];\n\n  var _useState9 = useState(''),\n      email = _useState9[0],\n      setEmail = _useState9[1];\n\n  var _useState10 = useState(''),\n      name = _useState10[0],\n      setName = _useState10[1];\n\n  var _useState11 = useState(null),\n      phone = _useState11[0],\n      setPhone = _useState11[1];\n\n  var _useState12 = useState(''),\n      message1 = _useState12[0],\n      setMessage1 = _useState12[1];\n\n  var _useState13 = useState(''),\n      company = _useState13[0],\n      setCompany = _useState13[1];\n\n  var _onChange = function onChange(e, id) {\n    if (e.target.files !== undefined && id === 1) {\n      setFile(e.target.files[0]);\n      setFilename(e.target.files[0].name);\n    }\n\n    if (e.target.files !== undefined && id === 2) {\n      setFile1(e.target.files[0]);\n      setFilename1(e.target.files[0].name);\n    }\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var formData, res, _res$data, fileName, filePath;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              formData = new FormData();\n              formData.append('file', file);\n              formData.append(\"file1\", file1);\n              formData.append('name', name);\n              formData.append('email', email);\n              formData.append('message', message1);\n              formData.append('company', company);\n              formData.append('phone', phone);\n              _context.prev = 9;\n              _context.next = 12;\n              return axios.post('http://localhost:3000/upload', formData, {\n                headers: {\n                  'Content-Type': 'multipart/form-data boundary=${form._boundary}'\n                },\n                onUploadProgress: function onUploadProgress(progressEvent) {\n                  setUploadPercentage(parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)));\n                  setTimeout(function () {\n                    return setUploadPercentage(0);\n                  }, 10000);\n                }\n              });\n\n            case 12:\n              res = _context.sent;\n              _res$data = res.data, fileName = _res$data.fileName, filePath = _res$data.filePath;\n              setUploadedFile({\n                fileName: fileName,\n                filePath: filePath\n              });\n              setMessage('File uploaded');\n              _context.next = 21;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](9);\n\n              if (_context.t0.response.status === 500) {\n                setMessage('There was a problem with the server');\n              } else {\n                setMessage(_context.t0.response.data.msg);\n              }\n\n            case 21:\n              setFile('');\n              setCompany('');\n              setEmail('');\n              setFilename('');\n              setMessage1('');\n              setEmailError('');\n              setPhone('');\n              setName('');\n              setFilename1('');\n              setFile1('');\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[9, 18]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onDrop = useCallback(function (acceptedFiles) {\n    if (acceptedFiles !== undefined) {\n      setFile(acceptedFiles[0]);\n      setFilename(acceptedFiles[0].name);\n    }\n  }, []);\n  useEffect(function () {}, [uploadPercentage]);\n  var inputStyle = {\n    visibility: \"hidden\",\n    borderWidth: \"2px\",\n    borderColor: \"black\",\n    border: \"dotted\",\n    width: \"100%\",\n    height: \"150px\"\n  };\n\n  var validateEmail = function validateEmail(e) {\n    var email = e.target.value;\n\n    if (validator.isEmail(email)) {\n      setEmailError('');\n    } else {\n      setEmailError('Enter valid Email!');\n    }\n  };\n\n  function handleChange(event) {\n    setFilename(event.target.files[0].name);\n  }\n\n  function handleChange(event) {\n    setFilename1(event.target.files[0].name);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"drivers-2\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wr,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.wrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.cu,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.mTitle,\n              children: \"Become a driver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.column,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.left,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.inputs,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Full Name\",\n                    type: \"text\",\n                    required: \"\",\n                    className: styles.input1,\n                    onChange: function onChange(event) {\n                      setName(event.target.value);\n                    },\n                    value: name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 41\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Experience (years)\",\n                    type: \"input\",\n                    required: \"\",\n                    className: styles.input1,\n                    onChange: function onChange(event) {\n                      setCompany(event.target.value);\n                    },\n                    value: company\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 41\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"userEmail\",\n                    onChange: function onChange(e) {\n                      validateEmail(e);\n                      setEmail(e.target.value);\n                    },\n                    className: styles.input1,\n                    placeholder: \"Email\",\n                    value: email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: 'bold',\n                      color: 'red'\n                    },\n                    children: emailError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    className: styles.input1,\n                    format: \"+1 ### ### ## ##\",\n                    mask: \"_\",\n                    placeholder: \"Phone\",\n                    onChange: function onChange(event) {\n                      return setPhone(event.target.value);\n                    },\n                    value: phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 41\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.textarea,\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  draggable: \"false\",\n                  placeholder: \"References\",\n                  type: \"text\",\n                  required: \"\",\n                  rows: \"4\",\n                  className: styles.input5,\n                  onChange: function onChange(event) {\n                    setMessage1(event.target.value);\n                  },\n                  value: message1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 33\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb30\",\n                children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n                  percentage: uploadPercentage,\n                  className: \"progressbar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.inUploads,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.uploads,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.attachCv,\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-file-upload\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        onChange: function onChange(event) {\n                          return _onChange(event, 1);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 49\n                      }, _this), \"Attach CV/CDL\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: filename\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 45\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.attachCv,\n                    style: {\n                      margin: \"20px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-file-upload\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        onChange: function onChange(event) {\n                          return _onChange(event, 2);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 213,\n                        columnNumber: 49\n                      }, _this), \"Attach MedCard\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 45\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: filename1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 45\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.button,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    value: \"Send\",\n                    className: styles.btn\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Section2, \"cjoBeNf+hVExCitItty+p5jzwDw=\");\n\n_c = Section2;\nexport default Section2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Section2\");","map":{"version":3,"sources":["C:/Users/user/Desktop/dtmFinal/client/components/drivers/section-2.js"],"names":["React","Fragment","useCallback","useEffect","useState","ProgressBar","axios","styles","validator","NumberFormat","Section2","file","setFile","filename","setFilename","filename1","setFilename1","file1","setFile1","uploadedFile","setUploadedFile","message","setMessage","uploadPercentage","setUploadPercentage","emailError","setEmailError","email","setEmail","name","setName","phone","setPhone","message1","setMessage1","company","setCompany","onChange","e","id","target","files","undefined","onSubmit","preventDefault","formData","FormData","append","post","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","res","data","fileName","filePath","response","status","msg","onDrop","acceptedFiles","inputStyle","visibility","borderWidth","borderColor","border","width","height","validateEmail","value","isEmail","handleChange","event","wr","wrapper","cu","mTitle","line","column","left","inputs","input","input1","fontWeight","color","textarea","input5","inUploads","uploads","attachCv","margin","button","btn"],"mappings":"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","sourcesContent":["import React, {Fragment, useCallback, useEffect, useState} from 'react';\r\nimport ProgressBar from \"./progress\"\r\nimport axios from 'axios';\r\nimport styles from \"../../styles/drivers/section2.module.scss\";\r\nimport validator from \"validator\";\r\nimport NumberFormat from \"react-number-format\";\r\n\r\n\r\n\r\n\r\n\r\nconst Section2 = () => {\r\n    const [file, setFile] = useState('');\r\n    const [filename, setFilename] = useState('');\r\n    const [filename1, setFilename1] = useState('');\r\n    const [file1, setFile1] = useState('');\r\n    const [uploadedFile, setUploadedFile] = useState({});\r\n    const [message, setMessage] = useState('');\r\n    const [uploadPercentage, setUploadPercentage] = useState(0);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [phone, setPhone] = useState(null);\r\n    const [message1, setMessage1] = useState('');\r\n    const [company, setCompany] = useState('');\r\n\r\n    const onChange = (e,id)  => {\r\n        if (e.target.files !== undefined && id === 1){\r\n            setFile(e.target.files[0]);\r\n            setFilename(e.target.files[0].name);\r\n        }\r\n        if (e.target.files !== undefined && id === 2){\r\n            setFile1(e.target.files[0]);\r\n            setFilename1(e.target.files[0].name);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        formData.append(\"file1\", file1);\r\n        formData.append('name', name);\r\n        formData.append('email', email)\r\n        formData.append('message', message1)\r\n        formData.append('company', company)\r\n        formData.append('phone', phone)\r\n\r\n        try {\r\n            const res = await axios.post('http://localhost:3000/upload', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data boundary=${form._boundary}'\r\n                },\r\n                onUploadProgress: progressEvent => {\r\n                    setUploadPercentage(parseInt(Math.round((progressEvent.loaded * 100) / progressEvent.total)));\r\n                    setTimeout(() => setUploadPercentage(0), 10000);\r\n                }\r\n            })\r\n\r\n            const {fileName, filePath} = res.data;\r\n            setUploadedFile({fileName, filePath});\r\n            setMessage('File uploaded');\r\n        } catch (err) {\r\n            if (err.response.status === 500) {\r\n                setMessage('There was a problem with the server');\r\n            } else {\r\n                setMessage(err.response.data.msg);\r\n            }\r\n        }\r\n        setFile('');\r\n        setCompany('');\r\n        setEmail('');\r\n        setFilename('');\r\n        setMessage1('');\r\n        setEmailError('');\r\n        setPhone('');\r\n        setName('');\r\n        setFilename1('');\r\n        setFile1('')\r\n    }\r\n\r\n\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        if (acceptedFiles !== undefined) {\r\n            setFile(acceptedFiles[0])\r\n            setFilename(acceptedFiles[0].name)\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n\r\n    },[uploadPercentage])\r\n    const inputStyle = {\r\n        visibility: \"hidden\",\r\n        borderWidth: \"2px\",\r\n        borderColor: \"black\",\r\n        border: \"dotted\",\r\n        width: \"100%\",\r\n        height: \"150px\"\r\n    }\r\n    const validateEmail = (e) => {\r\n        var email = e.target.value\r\n\r\n        if (validator.isEmail(email)) {\r\n            setEmailError('')\r\n        } else {\r\n            setEmailError('Enter valid Email!')\r\n        }\r\n    }\r\n    function handleChange(event) {\r\n        setFilename(event.target.files[0].name)\r\n    }\r\n    function handleChange(event) {\r\n        setFilename1(event.target.files[0].name)\r\n    }\r\n    return (\r\n        <div  id=\"drivers-2\">\r\n            <form onSubmit={onSubmit}>\r\n                <div className={styles.wr}>\r\n                    <div className={styles.wrapper}>\r\n                        <div className={styles.cu}>\r\n                            <div className={styles.mTitle}>\r\n                                Become a driver\r\n                            </div>\r\n                            <div className={styles.line}></div>\r\n                        </div>\r\n                        <div className={styles.column}>\r\n                            <div className={styles.left}>\r\n                                <div className={styles.inputs}>\r\n                                    <div className={styles.input}>\r\n                                        <input\r\n                                            placeholder=\"Full Name\"\r\n                                            type=\"text\"\r\n                                            required=\"\"\r\n                                            className={styles.input1}\r\n                                            onChange={event => {\r\n                                                setName(event.target.value)\r\n                                            }}\r\n                                            value={name}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <input\r\n                                            placeholder=\"Experience (years)\"\r\n                                            type=\"input\"\r\n                                            required=\"\"\r\n                                            className={styles.input1}\r\n                                            onChange={event => {\r\n                                                setCompany(event.target.value)\r\n                                            }}\r\n                                            value={company}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <input type=\"text\" id=\"userEmail\"\r\n                                               onChange={(e) => {\r\n                                                   validateEmail(e);\r\n                                                   setEmail(e.target.value)\r\n                                               }}\r\n                                               className={styles.input1}\r\n                                               placeholder={\"Email\"}\r\n                                               value={email}\r\n                                        />\r\n                                        <span style={{\r\n                                            fontWeight: 'bold',\r\n                                            color: 'red',\r\n                                        }}>{emailError}</span>\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <NumberFormat\r\n                                            className={styles.input1}\r\n                                            format=\"+1 ### ### ## ##\"\r\n                                            mask=\"_\"\r\n                                            placeholder={\"Phone\"}\r\n                                            onChange={event => setPhone(event.target.value)}\r\n                                            value={phone}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className={styles.textarea}>\r\n                                <textarea\r\n                                    draggable=\"false\"\r\n                                    placeholder=\"References\"\r\n                                    type=\"text\"\r\n                                    required=\"\"\r\n                                    rows=\"4\"\r\n                                    className={styles.input5}\r\n                                    onChange={event => {\r\n                                        setMessage1(event.target.value)\r\n                                    }}\r\n                                    value={message1}\r\n                                />\r\n\r\n                                </div>\r\n                                <div className=\"mb30\">\r\n                                    <ProgressBar percentage={uploadPercentage} className=\"progressbar\"/>\r\n                                </div>\r\n                                <div className={styles.inUploads}>\r\n                                    <div className={styles.uploads}>\r\n\r\n                                        <div className={styles.attachCv}>\r\n                                            <label className=\"custom-file-upload\">\r\n                                                <input type=\"file\"  onChange={event => onChange(event,1 )}/>\r\n                                                Attach CV/CDL\r\n                                            </label>\r\n                                            <div>\r\n                                                {filename}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className={styles.attachCv} style={{margin: \"20px\"}}>\r\n                                            <label className=\"custom-file-upload\">\r\n                                                <input type=\"file\"  onChange={event => onChange(event, 2)} />\r\n                                                Attach MedCard\r\n                                            </label>\r\n                                            <div>\r\n                                                {filename1}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.button}>\r\n                                        <input\r\n                                            type=\"submit\"\r\n                                            value=\"Send\"\r\n                                            className={styles.btn}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Section2;\r\n"]},"metadata":{},"sourceType":"module"}