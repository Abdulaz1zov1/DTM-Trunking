{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\dtmFinal\\\\client\\\\components\\\\drivers\\\\section-2.js\";\nimport React, { Fragment, useCallback, useEffect, useState } from 'react';\nimport ProgressBar from \"./progress\";\nimport axios from 'axios';\nimport styles from \"../../styles/drivers/section2.module.scss\";\nimport validator from \"validator\";\nimport NumberFormat from \"react-number-format\";\n\nconst Section2 = () => {\n  const {\n    0: file,\n    1: setFile\n  } = useState('');\n  const {\n    0: filename,\n    1: setFilename\n  } = useState(''); // const [filename1, setFilename1] = useState('');\n\n  const {\n    0: file1,\n    1: setFile1\n  } = useState('');\n  const {\n    0: uploadedFile,\n    1: setUploadedFile\n  } = useState({});\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n  const {\n    0: uploadPercentage,\n    1: setUploadPercentage\n  } = useState(0);\n  const {\n    0: emailError,\n    1: setEmailError\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: phone,\n    1: setPhone\n  } = useState(null);\n  const {\n    0: message1,\n    1: setMessage1\n  } = useState('');\n  const {\n    0: company,\n    1: setCompany\n  } = useState('');\n\n  const onChange = (e, id) => {\n    if (e.target.files !== undefined && id === 1) {\n      setFile(e.target.files[0]);\n      setFilename(e.target.files[0].name);\n    }\n\n    if (e.target.files !== undefined && id === 2) {\n      setFile1(e.target.files[0]);\n      setFilename1(e.target.files[0].name);\n    }\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append(\"file1\", file1);\n    formData.append('name', name);\n    formData.append('email', email);\n    formData.append('message', message1);\n    formData.append('company', company);\n    formData.append('phone', phone);\n\n    try {\n      const res = await axios.post('http://localhost:3000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data boundary=${form._boundary}'\n        },\n        onUploadProgress: progressEvent => {\n          setUploadPercentage(parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)));\n          setTimeout(() => setUploadPercentage(0), 10000);\n        }\n      });\n      const {\n        fileName,\n        filePath\n      } = res.data;\n      setUploadedFile({\n        fileName,\n        filePath\n      });\n      setMessage('File uploaded');\n    } catch (err) {\n      if (err.response.status === 500) {\n        setMessage('There was a problem with the server');\n      } else {\n        setMessage(err.response.data.msg);\n      }\n    }\n\n    setFile('');\n    setCompany('');\n    setEmail('');\n    setFilename('');\n    setMessage1('');\n    setEmailError('');\n    setPhone('');\n    setName('');\n    setFilename1('');\n    setFile1('');\n  };\n\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles !== undefined) {\n      setFile(acceptedFiles[0]);\n      setFilename(acceptedFiles[0].name);\n    }\n  }, []);\n  useEffect(() => {}, [uploadPercentage]);\n  const inputStyle = {\n    visibility: \"hidden\",\n    borderWidth: \"2px\",\n    borderColor: \"black\",\n    border: \"dotted\",\n    width: \"100%\",\n    height: \"150px\"\n  };\n\n  const validateEmail = e => {\n    var email = e.target.value;\n\n    if (validator.isEmail(email)) {\n      setEmailError('');\n    } else {\n      setEmailError('Enter valid Email!');\n    }\n  };\n\n  function handleChange(event) {\n    setFilename(event.target.files[0].name);\n  }\n\n  function handleChange(event) {\n    setFilename1(event.target.files[0].name);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"drivers-2\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wr,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.wrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.cu,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.mTitle,\n              children: \"Become a driver\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.line\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.column,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.left,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.inputs,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Full Name\",\n                    type: \"text\",\n                    required: \"\",\n                    className: styles.input1,\n                    onChange: event => {\n                      setName(event.target.value);\n                    },\n                    value: name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Experience (years)\",\n                    type: \"input\",\n                    required: \"\",\n                    className: styles.input1,\n                    onChange: event => {\n                      setCompany(event.target.value);\n                    },\n                    value: company\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"userEmail\",\n                    onChange: e => {\n                      validateEmail(e);\n                      setEmail(e.target.value);\n                    },\n                    className: styles.input1,\n                    placeholder: \"Email\",\n                    value: email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: 'bold',\n                      color: 'red'\n                    },\n                    children: emailError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.input,\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    className: styles.input1,\n                    format: \"+1 ### ### ## ##\",\n                    mask: \"_\",\n                    placeholder: \"Phone\",\n                    onChange: event => setPhone(event.target.value),\n                    value: phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.textarea,\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  draggable: \"false\",\n                  placeholder: \"References\",\n                  type: \"text\",\n                  required: \"\",\n                  rows: \"4\",\n                  className: styles.input5,\n                  onChange: event => {\n                    setMessage1(event.target.value);\n                  },\n                  value: message1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb30\",\n                children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n                  percentage: uploadPercentage,\n                  className: \"progressbar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.inUploads,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.uploads,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.attachCv,\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-file-upload\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        onChange: event => onChange(event, 1)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 49\n                      }, this), \"Attach CV/CDL\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: filename\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.attachCv,\n                    style: {\n                      margin: \"20px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"custom-file-upload\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        onChange: event => onChange(event, 2)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 213,\n                        columnNumber: 49\n                      }, this), \"Attach MedCard\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: filename1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.button,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    value: \"Send\",\n                    className: styles.btn\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n};\n\nexport default Section2;","map":{"version":3,"sources":["C:/Users/user/Desktop/dtmFinal/client/components/drivers/section-2.js"],"names":["React","Fragment","useCallback","useEffect","useState","ProgressBar","axios","styles","validator","NumberFormat","Section2","file","setFile","filename","setFilename","file1","setFile1","uploadedFile","setUploadedFile","message","setMessage","uploadPercentage","setUploadPercentage","emailError","setEmailError","email","setEmail","name","setName","phone","setPhone","message1","setMessage1","company","setCompany","onChange","e","id","target","files","undefined","setFilename1","onSubmit","preventDefault","formData","FormData","append","res","post","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","fileName","filePath","data","err","response","status","msg","onDrop","acceptedFiles","inputStyle","visibility","borderWidth","borderColor","border","width","height","validateEmail","value","isEmail","handleChange","event","wr","wrapper","cu","mTitle","line","column","left","inputs","input","input1","fontWeight","color","textarea","input5","inUploads","uploads","attachCv","margin","filename1","button","btn"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,WAAzB,EAAsCC,SAAtC,EAAiDC,QAAjD,QAAgE,OAAhE;AACA,OAAOC,WAAP,MAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,2CAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;;AAMA,MAAMC,QAAQ,GAAG,MAAM;AACnB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBR,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACS,QAAD;AAAA,OAAWC;AAAX,MAA0BV,QAAQ,CAAC,EAAD,CAAxC,CAFmB,CAGnB;;AACA,QAAM;AAAA,OAACW,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACa,YAAD;AAAA,OAAeC;AAAf,MAAkCd,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAACe,OAAD;AAAA,OAAUC;AAAV,MAAwBhB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAAA,OAACiB,gBAAD;AAAA,OAAmBC;AAAnB,MAA0ClB,QAAQ,CAAC,CAAD,CAAxD;AACA,QAAM;AAAA,OAACmB,UAAD;AAAA,OAAaC;AAAb,MAA8BpB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM;AAAA,OAACqB,KAAD;AAAA,OAAQC;AAAR,MAAoBtB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACuB,IAAD;AAAA,OAAOC;AAAP,MAAkBxB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACyB,KAAD;AAAA,OAAQC;AAAR,MAAoB1B,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM;AAAA,OAAC2B,QAAD;AAAA,OAAWC;AAAX,MAA0B5B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAAC6B,OAAD;AAAA,OAAUC;AAAV,MAAwB9B,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAM+B,QAAQ,GAAG,CAACC,CAAD,EAAGC,EAAH,KAAW;AACxB,QAAID,CAAC,CAACE,MAAF,CAASC,KAAT,KAAmBC,SAAnB,IAAgCH,EAAE,KAAK,CAA3C,EAA6C;AACzCzB,MAAAA,OAAO,CAACwB,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACAzB,MAAAA,WAAW,CAACsB,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBZ,IAAnB,CAAX;AACH;;AACD,QAAIS,CAAC,CAACE,MAAF,CAASC,KAAT,KAAmBC,SAAnB,IAAgCH,EAAE,KAAK,CAA3C,EAA6C;AACzCrB,MAAAA,QAAQ,CAACoB,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACAE,MAAAA,YAAY,CAACL,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBZ,IAAnB,CAAZ;AACH;AAGJ,GAXD;;AAaA,QAAMe,QAAQ,GAAG,MAAMN,CAAN,IAAW;AACxBA,IAAAA,CAAC,CAACO,cAAF;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBnC,IAAxB;AACAiC,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB/B,KAAzB;AACA6B,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBnB,IAAxB;AACAiB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBrB,KAAzB;AACAmB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2Bf,QAA3B;AACAa,IAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2Bb,OAA3B;AACAW,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBjB,KAAzB;;AAEA,QAAI;AACA,YAAMkB,GAAG,GAAG,MAAMzC,KAAK,CAAC0C,IAAN,CAAW,8BAAX,EAA2CJ,QAA3C,EAAqD;AACnEK,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAD0D;AAInEC,QAAAA,gBAAgB,EAAEC,aAAa,IAAI;AAC/B7B,UAAAA,mBAAmB,CAAC8B,QAAQ,CAACC,IAAI,CAACC,KAAL,CAAYH,aAAa,CAACI,MAAd,GAAuB,GAAxB,GAA+BJ,aAAa,CAACK,KAAxD,CAAD,CAAT,CAAnB;AACAC,UAAAA,UAAU,CAAC,MAAMnC,mBAAmB,CAAC,CAAD,CAA1B,EAA+B,KAA/B,CAAV;AACH;AAPkE,OAArD,CAAlB;AAUA,YAAM;AAACoC,QAAAA,QAAD;AAAWC,QAAAA;AAAX,UAAuBZ,GAAG,CAACa,IAAjC;AACA1C,MAAAA,eAAe,CAAC;AAACwC,QAAAA,QAAD;AAAWC,QAAAA;AAAX,OAAD,CAAf;AACAvC,MAAAA,UAAU,CAAC,eAAD,CAAV;AACH,KAdD,CAcE,OAAOyC,GAAP,EAAY;AACV,UAAIA,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC7B3C,QAAAA,UAAU,CAAC,qCAAD,CAAV;AACH,OAFD,MAEO;AACHA,QAAAA,UAAU,CAACyC,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBI,GAAnB,CAAV;AACH;AACJ;;AACDpD,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAsB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAR,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAZ,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAkB,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAR,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAM,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAF,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAa,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAzB,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,GA1CD;;AA6CA,QAAMiD,MAAM,GAAG/D,WAAW,CAAEgE,aAAD,IAAmB;AAC1C,QAAIA,aAAa,KAAK1B,SAAtB,EAAiC;AAC7B5B,MAAAA,OAAO,CAACsD,aAAa,CAAC,CAAD,CAAd,CAAP;AACApD,MAAAA,WAAW,CAACoD,aAAa,CAAC,CAAD,CAAb,CAAiBvC,IAAlB,CAAX;AACH;AACJ,GALyB,EAKvB,EALuB,CAA1B;AAMAxB,EAAAA,SAAS,CAAC,MAAM,CAEf,CAFQ,EAEP,CAACkB,gBAAD,CAFO,CAAT;AAGA,QAAM8C,UAAU,GAAG;AACfC,IAAAA,UAAU,EAAE,QADG;AAEfC,IAAAA,WAAW,EAAE,KAFE;AAGfC,IAAAA,WAAW,EAAE,OAHE;AAIfC,IAAAA,MAAM,EAAE,QAJO;AAKfC,IAAAA,KAAK,EAAE,MALQ;AAMfC,IAAAA,MAAM,EAAE;AANO,GAAnB;;AAQA,QAAMC,aAAa,GAAItC,CAAD,IAAO;AACzB,QAAIX,KAAK,GAAGW,CAAC,CAACE,MAAF,CAASqC,KAArB;;AAEA,QAAInE,SAAS,CAACoE,OAAV,CAAkBnD,KAAlB,CAAJ,EAA8B;AAC1BD,MAAAA,aAAa,CAAC,EAAD,CAAb;AACH,KAFD,MAEO;AACHA,MAAAA,aAAa,CAAC,oBAAD,CAAb;AACH;AACJ,GARD;;AASA,WAASqD,YAAT,CAAsBC,KAAtB,EAA6B;AACzBhE,IAAAA,WAAW,CAACgE,KAAK,CAACxC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBZ,IAAvB,CAAX;AACH;;AACD,WAASkD,YAAT,CAAsBC,KAAtB,EAA6B;AACzBrC,IAAAA,YAAY,CAACqC,KAAK,CAACxC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,EAAsBZ,IAAvB,CAAZ;AACH;;AACD,sBACI;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAEe,QAAhB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAEnC,MAAM,CAACwE,EAAvB;AAAA,+BACI;AAAK,UAAA,SAAS,EAAExE,MAAM,CAACyE,OAAvB;AAAA,kCACI;AAAK,YAAA,SAAS,EAAEzE,MAAM,CAAC0E,EAAvB;AAAA,oCACI;AAAK,cAAA,SAAS,EAAE1E,MAAM,CAAC2E,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAK,cAAA,SAAS,EAAE3E,MAAM,CAAC4E;AAAvB;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAOI;AAAK,YAAA,SAAS,EAAE5E,MAAM,CAAC6E,MAAvB;AAAA,mCACI;AAAK,cAAA,SAAS,EAAE7E,MAAM,CAAC8E,IAAvB;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAE9E,MAAM,CAAC+E,MAAvB;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAE/E,MAAM,CAACgF,KAAvB;AAAA,yCACI;AACI,oBAAA,WAAW,EAAC,WADhB;AAEI,oBAAA,IAAI,EAAC,MAFT;AAGI,oBAAA,QAAQ,EAAC,EAHb;AAII,oBAAA,SAAS,EAAEhF,MAAM,CAACiF,MAJtB;AAKI,oBAAA,QAAQ,EAAEV,KAAK,IAAI;AACflD,sBAAAA,OAAO,CAACkD,KAAK,CAACxC,MAAN,CAAaqC,KAAd,CAAP;AACH,qBAPL;AAQI,oBAAA,KAAK,EAAEhD;AARX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADJ,eAaI;AAAK,kBAAA,SAAS,EAAEpB,MAAM,CAACgF,KAAvB;AAAA,yCACI;AACI,oBAAA,WAAW,EAAC,oBADhB;AAEI,oBAAA,IAAI,EAAC,OAFT;AAGI,oBAAA,QAAQ,EAAC,EAHb;AAII,oBAAA,SAAS,EAAEhF,MAAM,CAACiF,MAJtB;AAKI,oBAAA,QAAQ,EAAEV,KAAK,IAAI;AACf5C,sBAAAA,UAAU,CAAC4C,KAAK,CAACxC,MAAN,CAAaqC,KAAd,CAAV;AACH,qBAPL;AAQI,oBAAA,KAAK,EAAE1C;AARX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAbJ,eAyBI;AAAK,kBAAA,SAAS,EAAE1B,MAAM,CAACgF,KAAvB;AAAA,0CACI;AAAO,oBAAA,IAAI,EAAC,MAAZ;AAAmB,oBAAA,EAAE,EAAC,WAAtB;AACO,oBAAA,QAAQ,EAAGnD,CAAD,IAAO;AACbsC,sBAAAA,aAAa,CAACtC,CAAD,CAAb;AACAV,sBAAAA,QAAQ,CAACU,CAAC,CAACE,MAAF,CAASqC,KAAV,CAAR;AACH,qBAJR;AAKO,oBAAA,SAAS,EAAEpE,MAAM,CAACiF,MALzB;AAMO,oBAAA,WAAW,EAAE,OANpB;AAOO,oBAAA,KAAK,EAAE/D;AAPd;AAAA;AAAA;AAAA;AAAA,0BADJ,eAUI;AAAM,oBAAA,KAAK,EAAE;AACTgE,sBAAAA,UAAU,EAAE,MADH;AAETC,sBAAAA,KAAK,EAAE;AAFE,qBAAb;AAAA,8BAGInE;AAHJ;AAAA;AAAA;AAAA;AAAA,0BAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAzBJ,eAwCI;AAAK,kBAAA,SAAS,EAAEhB,MAAM,CAACgF,KAAvB;AAAA,yCACI,QAAC,YAAD;AACI,oBAAA,SAAS,EAAEhF,MAAM,CAACiF,MADtB;AAEI,oBAAA,MAAM,EAAC,kBAFX;AAGI,oBAAA,IAAI,EAAC,GAHT;AAII,oBAAA,WAAW,EAAE,OAJjB;AAKI,oBAAA,QAAQ,EAAEV,KAAK,IAAIhD,QAAQ,CAACgD,KAAK,CAACxC,MAAN,CAAaqC,KAAd,CAL/B;AAMI,oBAAA,KAAK,EAAE9C;AANX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAoDI;AAAK,gBAAA,SAAS,EAAEtB,MAAM,CAACoF,QAAvB;AAAA,uCACA;AACI,kBAAA,SAAS,EAAC,OADd;AAEI,kBAAA,WAAW,EAAC,YAFhB;AAGI,kBAAA,IAAI,EAAC,MAHT;AAII,kBAAA,QAAQ,EAAC,EAJb;AAKI,kBAAA,IAAI,EAAC,GALT;AAMI,kBAAA,SAAS,EAAEpF,MAAM,CAACqF,MANtB;AAOI,kBAAA,QAAQ,EAAEd,KAAK,IAAI;AACf9C,oBAAAA,WAAW,CAAC8C,KAAK,CAACxC,MAAN,CAAaqC,KAAd,CAAX;AACH,mBATL;AAUI,kBAAA,KAAK,EAAE5C;AAVX;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,sBApDJ,eAmEI;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,uCACI,QAAC,WAAD;AAAa,kBAAA,UAAU,EAAEV,gBAAzB;AAA2C,kBAAA,SAAS,EAAC;AAArD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAnEJ,eAsEI;AAAK,gBAAA,SAAS,EAAEd,MAAM,CAACsF,SAAvB;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAEtF,MAAM,CAACuF,OAAvB;AAAA,0CAEI;AAAK,oBAAA,SAAS,EAAEvF,MAAM,CAACwF,QAAvB;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,oBAAjB;AAAA,8CACI;AAAO,wBAAA,IAAI,EAAC,MAAZ;AAAoB,wBAAA,QAAQ,EAAEjB,KAAK,IAAI3C,QAAQ,CAAC2C,KAAD,EAAO,CAAP;AAA/C;AAAA;AAAA;AAAA;AAAA,8BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAKI;AAAA,gCACKjE;AADL;AAAA;AAAA;AAAA;AAAA,4BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAWI;AAAK,oBAAA,SAAS,EAAEN,MAAM,CAACwF,QAAvB;AAAiC,oBAAA,KAAK,EAAE;AAACC,sBAAAA,MAAM,EAAE;AAAT,qBAAxC;AAAA,4CACI;AAAO,sBAAA,SAAS,EAAC,oBAAjB;AAAA,8CACI;AAAO,wBAAA,IAAI,EAAC,MAAZ;AAAoB,wBAAA,QAAQ,EAAElB,KAAK,IAAI3C,QAAQ,CAAC2C,KAAD,EAAQ,CAAR;AAA/C;AAAA;AAAA;AAAA;AAAA,8BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAKI;AAAA,gCACKmB;AADL;AAAA;AAAA;AAAA;AAAA,4BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAsBI;AAAK,kBAAA,SAAS,EAAE1F,MAAM,CAAC2F,MAAvB;AAAA,yCACI;AACI,oBAAA,IAAI,EAAC,QADT;AAEI,oBAAA,KAAK,EAAC,MAFV;AAGI,oBAAA,SAAS,EAAE3F,MAAM,CAAC4F;AAHtB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAtBJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA4HH,CArOD;;AAuOA,eAAezF,QAAf","sourcesContent":["import React, {Fragment, useCallback, useEffect, useState} from 'react';\r\nimport ProgressBar from \"./progress\"\r\nimport axios from 'axios';\r\nimport styles from \"../../styles/drivers/section2.module.scss\";\r\nimport validator from \"validator\";\r\nimport NumberFormat from \"react-number-format\";\r\n\r\n\r\n\r\n\r\n\r\nconst Section2 = () => {\r\n    const [file, setFile] = useState('');\r\n    const [filename, setFilename] = useState('');\r\n    // const [filename1, setFilename1] = useState('');\r\n    const [file1, setFile1] = useState('');\r\n    const [uploadedFile, setUploadedFile] = useState({});\r\n    const [message, setMessage] = useState('');\r\n    const [uploadPercentage, setUploadPercentage] = useState(0);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [phone, setPhone] = useState(null);\r\n    const [message1, setMessage1] = useState('');\r\n    const [company, setCompany] = useState('');\r\n\r\n    const onChange = (e,id)  => {\r\n        if (e.target.files !== undefined && id === 1){\r\n            setFile(e.target.files[0]);\r\n            setFilename(e.target.files[0].name);\r\n        }\r\n        if (e.target.files !== undefined && id === 2){\r\n            setFile1(e.target.files[0]);\r\n            setFilename1(e.target.files[0].name);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        formData.append(\"file1\", file1);\r\n        formData.append('name', name);\r\n        formData.append('email', email)\r\n        formData.append('message', message1)\r\n        formData.append('company', company)\r\n        formData.append('phone', phone)\r\n\r\n        try {\r\n            const res = await axios.post('http://localhost:3000/upload', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data boundary=${form._boundary}'\r\n                },\r\n                onUploadProgress: progressEvent => {\r\n                    setUploadPercentage(parseInt(Math.round((progressEvent.loaded * 100) / progressEvent.total)));\r\n                    setTimeout(() => setUploadPercentage(0), 10000);\r\n                }\r\n            })\r\n\r\n            const {fileName, filePath} = res.data;\r\n            setUploadedFile({fileName, filePath});\r\n            setMessage('File uploaded');\r\n        } catch (err) {\r\n            if (err.response.status === 500) {\r\n                setMessage('There was a problem with the server');\r\n            } else {\r\n                setMessage(err.response.data.msg);\r\n            }\r\n        }\r\n        setFile('');\r\n        setCompany('');\r\n        setEmail('');\r\n        setFilename('');\r\n        setMessage1('');\r\n        setEmailError('');\r\n        setPhone('');\r\n        setName('');\r\n        setFilename1('');\r\n        setFile1('')\r\n    }\r\n\r\n\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        if (acceptedFiles !== undefined) {\r\n            setFile(acceptedFiles[0])\r\n            setFilename(acceptedFiles[0].name)\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n\r\n    },[uploadPercentage])\r\n    const inputStyle = {\r\n        visibility: \"hidden\",\r\n        borderWidth: \"2px\",\r\n        borderColor: \"black\",\r\n        border: \"dotted\",\r\n        width: \"100%\",\r\n        height: \"150px\"\r\n    }\r\n    const validateEmail = (e) => {\r\n        var email = e.target.value\r\n\r\n        if (validator.isEmail(email)) {\r\n            setEmailError('')\r\n        } else {\r\n            setEmailError('Enter valid Email!')\r\n        }\r\n    }\r\n    function handleChange(event) {\r\n        setFilename(event.target.files[0].name)\r\n    }\r\n    function handleChange(event) {\r\n        setFilename1(event.target.files[0].name)\r\n    }\r\n    return (\r\n        <div  id=\"drivers-2\">\r\n            <form onSubmit={onSubmit}>\r\n                <div className={styles.wr}>\r\n                    <div className={styles.wrapper}>\r\n                        <div className={styles.cu}>\r\n                            <div className={styles.mTitle}>\r\n                                Become a driver\r\n                            </div>\r\n                            <div className={styles.line}></div>\r\n                        </div>\r\n                        <div className={styles.column}>\r\n                            <div className={styles.left}>\r\n                                <div className={styles.inputs}>\r\n                                    <div className={styles.input}>\r\n                                        <input\r\n                                            placeholder=\"Full Name\"\r\n                                            type=\"text\"\r\n                                            required=\"\"\r\n                                            className={styles.input1}\r\n                                            onChange={event => {\r\n                                                setName(event.target.value)\r\n                                            }}\r\n                                            value={name}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <input\r\n                                            placeholder=\"Experience (years)\"\r\n                                            type=\"input\"\r\n                                            required=\"\"\r\n                                            className={styles.input1}\r\n                                            onChange={event => {\r\n                                                setCompany(event.target.value)\r\n                                            }}\r\n                                            value={company}\r\n                                        />\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <input type=\"text\" id=\"userEmail\"\r\n                                               onChange={(e) => {\r\n                                                   validateEmail(e);\r\n                                                   setEmail(e.target.value)\r\n                                               }}\r\n                                               className={styles.input1}\r\n                                               placeholder={\"Email\"}\r\n                                               value={email}\r\n                                        />\r\n                                        <span style={{\r\n                                            fontWeight: 'bold',\r\n                                            color: 'red',\r\n                                        }}>{emailError}</span>\r\n                                    </div>\r\n                                    <div className={styles.input}>\r\n                                        <NumberFormat\r\n                                            className={styles.input1}\r\n                                            format=\"+1 ### ### ## ##\"\r\n                                            mask=\"_\"\r\n                                            placeholder={\"Phone\"}\r\n                                            onChange={event => setPhone(event.target.value)}\r\n                                            value={phone}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className={styles.textarea}>\r\n                                <textarea\r\n                                    draggable=\"false\"\r\n                                    placeholder=\"References\"\r\n                                    type=\"text\"\r\n                                    required=\"\"\r\n                                    rows=\"4\"\r\n                                    className={styles.input5}\r\n                                    onChange={event => {\r\n                                        setMessage1(event.target.value)\r\n                                    }}\r\n                                    value={message1}\r\n                                />\r\n\r\n                                </div>\r\n                                <div className=\"mb30\">\r\n                                    <ProgressBar percentage={uploadPercentage} className=\"progressbar\"/>\r\n                                </div>\r\n                                <div className={styles.inUploads}>\r\n                                    <div className={styles.uploads}>\r\n\r\n                                        <div className={styles.attachCv}>\r\n                                            <label className=\"custom-file-upload\">\r\n                                                <input type=\"file\"  onChange={event => onChange(event,1 )}/>\r\n                                                Attach CV/CDL\r\n                                            </label>\r\n                                            <div>\r\n                                                {filename}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className={styles.attachCv} style={{margin: \"20px\"}}>\r\n                                            <label className=\"custom-file-upload\">\r\n                                                <input type=\"file\"  onChange={event => onChange(event, 2)} />\r\n                                                Attach MedCard\r\n                                            </label>\r\n                                            <div>\r\n                                                {filename1}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.button}>\r\n                                        <input\r\n                                            type=\"submit\"\r\n                                            value=\"Send\"\r\n                                            className={styles.btn}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Section2;\r\n"]},"metadata":{},"sourceType":"module"}